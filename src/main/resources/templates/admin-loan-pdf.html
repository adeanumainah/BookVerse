<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Daftar Peminjaman</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        font-size: 12px;
        color: #222;
      }
      h2 {
        text-align: center;
        margin-bottom: 6px;
      }
      .meta {
        text-align: center;
        font-size: 11px;
        color: #555;
        margin-bottom: 12px;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 8px;
      }
      th,
      td {
        border: 1px solid #aaa;
        padding: 6px 8px;
        text-align: left;
        vertical-align: top;
      }
      th {
        background: #f0f0f0;
      }
      .small {
        font-size: 11px;
        color: #444;
      }
    </style>
  </head>
  <body>
    <h2>Data Peminjaman Buku</h2>
    <div class="meta">
      Filter: <b th:text="${status}">Semua</b> &#160;|&#160;; Generated:
      <span th:text="${generatedAt}">-</span>
    </div>

    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Judul</th>
          <th>User (email)</th>
          <th>Tgl Pinjam</th>
          <th>Jatuh Tempo</th>
          <th>Tgl Kembali</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="loan : ${loans}">
          <td th:text="${loan.id}">1</td>
          <td th:text="${loan.bookTitle}">Judul</td>
          <td th:text="${loan.userEmail}">email@</td>
          <td th:text="${loan.loanDate}">2025-09-01</td>
          <td th:text="${loan.dueDate}">2025-09-08</td>
          <td th:text="${loan.returnDate != null ? loan.returnDate : 'Belum'}">
            -
          </td>
          <td th:text="${loan.status}">BORROWED</td>
        </tr>
        <tr th:if="${#lists.isEmpty(loans)}">
          <td colspan="7" style="text-align: center">Tidak ada data</td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
